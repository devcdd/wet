(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{6647:function(){},5114:function(e,a,t){Promise.resolve().then(t.bind(t,8538))},8538:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return restaurantList_RestaurantList}});var s=t(7437),n=t(2265),l=t(9805),i=t(9220),r=t(5883);let o=(0,r.cn)({key:"mapLocationState",default:{latitude:0,longtitude:0}});var KakaoMapAPI_KakaoMapAPI=e=>{let{restaurant_name:a,restaurant_location:t}=e,[l,i]=(0,r.FV)(o);return(0,n.useEffect)(()=>{let e=document.createElement("script");e.async=!1,e.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=262b9335f92d9f664cf287bf29a682d8&libraries=services&autoload=false",document.head.appendChild(e),e.addEventListener("load",()=>{window.kakao.maps.load(()=>{let e=document.getElementById("map"),s={center:new window.kakao.maps.LatLng(37.493056,127.034096),level:2},n=new window.kakao.maps.Map(e,s),l=new window.kakao.maps.ZoomControl;n.addControl(l,window.kakao.maps.ControlPosition.RIGHT);let r=new window.kakao.maps.services.Geocoder;r.addressSearch(t,function(e,t){if(t===window.kakao.maps.services.Status.OK){let t=new window.kakao.maps.LatLng(e[0].y,e[0].x),s={latitude:e[0].y,longtitude:e[0].x};i(e=>s);let l=new window.kakao.maps.Marker({map:n,position:t}),r=new window.kakao.maps.InfoWindow({content:'<div style="width:150px;text-align:center;padding:6px 0;">'.concat(a,"</div>")});r.open(n,l),n.setCenter(t)}})})})},[]),(0,s.jsx)("main",{className:"flex flex-col items-center justify-center",children:(0,s.jsx)("div",{className:"w-full max-w-md p-4 bg-white rounded-lg",children:(0,s.jsx)("div",{id:"map",style:{height:"20rem"}})})})};let d=(0,r.cn)({key:"modalOpenState",default:!1});var DetailModal_DetailModal=e=>{let{isOpen:a,restaurant_name:t,restaurant_location:c}=e,[m,u]=(0,r.FV)(d),p=(0,r.FV)(o),x=(0,n.useRef)(null);return(0,n.useEffect)(()=>{u(a)},[a]),(0,s.jsx)(l.u.Root,{show:m,as:n.Fragment,children:(0,s.jsxs)(i.V,{as:"div",className:"relative z-10",initialFocus:x,onClose:u,children:[(0,s.jsx)(l.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,s.jsx)("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:(0,s.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,s.jsx)(l.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,s.jsxs)(i.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,s.jsx)("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,s.jsx)("div",{className:"sm:flex sm:items-start",children:(0,s.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,s.jsx)(i.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:t}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"우측의 확대, 축소 바를 활용하여 유동적으로 위치를 찾으실 수 있습니다."}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"정확한 위치의 확인이 어렵거나 표시되지 않는 경우 우측 하단의 카카오맵 열기를 활용해주세요."})]})]})})}),(0,s.jsx)(KakaoMapAPI_KakaoMapAPI,{restaurant_name:t,restaurant_location:c}),(0,s.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,s.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto",onClick:()=>{let e="kakaomap://route?sp=37.493069715524456,127.03414990921496&ep=".concat(Number(p[0].latitude),",").concat(Number(p[0].longtitude),"&by=FOOT");window.location.href=e},children:"카카오맵 열기"}),(0,s.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>u(!1),ref:x,children:"취소"})]})]})})})})]})})},c=t(3248),m=t(2269),u=t.n(m),p=t(2601);u().config();let x="https://ncmlbaxuiwbpuvojgilt.supabase.co",h="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jbWxiYXh1aXdicHV2b2pnaWx0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5OTUxMjU1NiwiZXhwIjoyMDE1MDg4NTU2fQ.4oCg61fIj_HAPScmZ-hSD3d9SHpAokSaz7fszTc5JfM";x&&h||(console.error("Supabase URL or API Key is missing."),p.exit(1));let f=(0,c.eI)(x,h);var restaurantList_RestaurantList=e=>{let{restaurantList:a}=e,[t,l]=(0,r.FV)(d),[i,o]=(0,n.useState)({restaurant_name:"",restaurant_location:""}),handleCardClick=async e=>{let a=await f.from("restaurantList").select().eq("id",e.currentTarget.getAttribute("data-key"));try{a&&a.data&&a.data[0]&&a.data.length>0&&(o({restaurant_name:a.data[0].restaurant_name,restaurant_location:a.data[0].restaurant_location}),l(!0))}catch(e){alert(e)}};return(0,s.jsxs)(s.Fragment,{children:[a.map(e=>(0,s.jsxs)("div",{className:"cardContainer flex gap-5 bg-white hover:bg-slate-300 p-4 rounded-md shadow-md",onClick:handleCardClick,"data-key":e.id,children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:e.restaurant_name}),(0,s.jsxs)("p",{className:"text-gray-800 mt-2",children:[(0,s.jsx)("span",{className:"font-bold",children:"음식: "}),e.restaurant_food]}),(0,s.jsxs)("p",{className:"text-gray-500",children:[(0,s.jsx)("span",{className:"font-bold",children:"종류: "}),e.restaurant_type]}),(0,s.jsxs)("p",{className:"text-gray-500",children:[(0,s.jsx)("span",{className:"font-bold",children:"비고: "}),e.restaurant_description]})]}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("img",{src:e.restaurant_image,alt:"사진",className:"w-full h-full rounded-lg object-cover"})})]},e.id)),(0,s.jsx)(DetailModal_DetailModal,{isOpen:t,restaurant_name:i.restaurant_name,restaurant_location:i.restaurant_location})]})}}},function(e){e.O(0,[691,218,447,324,971,472,744],function(){return e(e.s=5114)}),_N_E=e.O()}]);