(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{6647:function(){},1138:function(e,t,a){Promise.resolve().then(a.bind(a,2234))},2234:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ServerComponentAddEvent_ServerComponentAddEvent}});var n=a(7437),s=a(2265),i=a(3248),o=a(2269),l=a.n(o),r=a(2601);l().config();let d="https://ncmlbaxuiwbpuvojgilt.supabase.co",c="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5jbWxiYXh1aXdicHV2b2pnaWx0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5OTUxMjU1NiwiZXhwIjoyMDE1MDg4NTU2fQ.4oCg61fIj_HAPScmZ-hSD3d9SHpAokSaz7fszTc5JfM";d&&c||(console.error("Supabase URL or API Key is missing."),r.exit(1));let m=(0,i.eI)(d,c);var u=a(9805),p=a(9220),x=a(5883);let f=(0,x.cn)({key:"mapLocationState",default:{latitude:0,longtitude:0}});var KakaoMapAPI_KakaoMapAPI=e=>{let{restaurant_name:t,restaurant_location:a}=e,[i,o]=(0,x.FV)(f);return(0,s.useEffect)(()=>{let e=document.createElement("script");e.async=!1,e.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=262b9335f92d9f664cf287bf29a682d8&libraries=services&autoload=false",document.head.appendChild(e),e.addEventListener("load",()=>{window.kakao.maps.load(()=>{let e=document.getElementById("map"),n={center:new window.kakao.maps.LatLng(37.493056,127.034096),level:2},s=new window.kakao.maps.Map(e,n),i=new window.kakao.maps.ZoomControl;s.addControl(i,window.kakao.maps.ControlPosition.RIGHT);let l=new window.kakao.maps.services.Geocoder;l.addressSearch(a,function(e,a){if(a===window.kakao.maps.services.Status.OK){let a=new window.kakao.maps.LatLng(e[0].y,e[0].x),n={latitude:e[0].y,longtitude:e[0].x};o(e=>n);let i=new window.kakao.maps.Marker({map:s,position:a}),l=new window.kakao.maps.InfoWindow({content:'<div style="width:150px;text-align:center;padding:6px 0;">'.concat(t,"</div>")});l.open(s,i),s.setCenter(a)}})})})},[]),(0,n.jsx)("main",{className:"flex flex-col items-center justify-center",children:(0,n.jsx)("div",{className:"w-full max-w-md p-4 bg-white rounded-lg",children:(0,n.jsx)("div",{id:"map",style:{height:"20rem"}})})})};let w=(0,x.cn)({key:"modalOpenState",default:!1});var DetailModal_DetailModal=e=>{let{isOpen:t,restaurant_name:a,restaurant_location:i}=e,[o,l]=(0,x.FV)(w),r=(0,x.FV)(f),d=(0,s.useRef)(null);return(0,s.useEffect)(()=>{l(t)},[t]),(0,n.jsx)(u.u.Root,{show:o,as:s.Fragment,children:(0,n.jsxs)(p.V,{as:"div",className:"relative z-10",initialFocus:d,onClose:l,children:[(0,n.jsx)(u.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,n.jsx)("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:(0,n.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,n.jsx)(u.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,n.jsxs)(p.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,n.jsx)("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,n.jsx)("div",{className:"sm:flex sm:items-start",children:(0,n.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,n.jsx)(p.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:a}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"우측의 확대, 축소 바를 활용하여 유동적으로 위치를 찾으실 수 있습니다."}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"정확한 위치의 확인이 어렵거나 표시되지 않는 경우 우측 하단의 카카오맵 열기를 활용해주세요."})]})]})})}),(0,n.jsx)(KakaoMapAPI_KakaoMapAPI,{restaurant_name:a,restaurant_location:i}),(0,n.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,n.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:ml-3 sm:w-auto",onClick:()=>{let e="kakaomap://route?sp=37.493069715524456,127.03414990921496&ep=".concat(Number(r[0].latitude),",").concat(Number(r[0].longtitude),"&by=FOOT");window.location.href=e},children:"카카오맵 열기"}),(0,n.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>l(!1),ref:d,children:"취소"})]})]})})})})]})})},ServerComponentAddEvent_ServerComponentAddEvent=()=>{let[e,t]=(0,x.FV)(w),[a,i]=(0,s.useState)({restaurant_name:"",restaurant_location:""});return(0,s.useEffect)(()=>{let e=document.getElementsByClassName("cardContainer");for(let a=0;a<e.length;a++)e[a].addEventListener("click",async()=>{let n=await m.from("restaurantList").select().eq("id",e[a].id);n.data&&n.data.length>0?(i({restaurant_name:n.data[0].restaurant_name,restaurant_location:n.data[0].restaurant_location}),t(!0)):console.error("Restaurant detail not found.")})},[]),(0,n.jsx)(DetailModal_DetailModal,{isOpen:e,restaurant_name:a.restaurant_name,restaurant_location:a.restaurant_location})}}},function(e){e.O(0,[691,218,370,971,472,744],function(){return e(e.s=1138)}),_N_E=e.O()}]);